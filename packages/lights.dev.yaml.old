  - alias: "Switch - Woonkamer On/Off"
    trigger:
    - platform: time
      minutes: '/10'
      seconds: 00
    - platform: state
      entity_id: sensor.switch_woonkamer
      from: 'off'
      to: 'on'
      for:
        minutes: 5
    - platform: state
      entity_id: sensor.switch_woonkamer
      from: 'on'
      to: 'off'
      for:
        minutes: 5
    - platform: state
      entity_id: sensor.hal_motion
      to: 'True'
    - platform: state
      entity_id: sensor.woonkamer_motion
      to: 'True'
    condition:
    - condition: state
      entity_id: input_boolean.automation_mode
      state: 'off'
    action:
    - service: script.turn_on
      data_template:
        entity_id: >
          {%- if (is_state('sensor.switch_woonkamer', 'on') and is_state('sensor.switch_hal', 'on')) and states('sensor.time_of_day_short') in ['daytime','early evening'] -%}
          script.woonkamer, script.keuken, script.buiten, script.tuin
          {%- elif (is_state('sensor.woonkamer_motion', 'True') or is_state('sensor.hal_motion', 'True')) and states('sensor.time_of_day_short') in ['daytime','early evening','evening'] -%}
          script.woonkamer, script.keuken, script.buiten, script.tuin
          {%- elif is_state('media_player.livingroom_tv', 'off') and states('sensor.time_of_day_short') in ['evening','night'] -%}
          script.all_off
          {%- elif is_state('sensor.switch_woonkamer', 'off') and states('sensor.time_of_day_short') in ['daytime','early evening'] -%}
          script.all_off
          {%- endif -%}






  - alias: "Motion and Person - Doorbel - Turn On/Off"
    trigger:
    - platform: state
      entity_id: binary_sensor.front_door_camera_voordeur_motion_detected
      to: 'on'
    - platform: state
      entity_id: binary_sensor.front_door_camera_voordeur_person_detected
      to: 'on'
    - platform: state
      entity_id: binary_sensor.front_door_camera_voordeur_motion_detected
      to: 'off'
      for:
        minutes: 10
    - platform: state
      entity_id: binary_sensor.front_door_camera_voordeur_person_detected
      to: 'off'
      for:
        minutes: 10
    condition:
    - condition: time
      before: '05:00:00'
      after: '00:00:00'
    action:
    - service: script.turn_on
      data_template:
        entity_id: >
          {%- if is_state('binary_sensor.front_door_camera_voordeur_motion_detected', 'on') or is_state('binary_sensor.front_door_camera_voordeur_motion_detected', 'on') -%}
          script.buiten_bright
          {%- else -%}
          script.all_off
          {%- endif -%}







  - alias: "Motion and Person - Doorbel - Turn On"
    trigger:
    - platform: state
      entity_id: binary_sensor.front_door_camera_voordeur_motion_detected
      to: 'on'
    - platform: state
      entity_id: binary_sensor.front_door_camera_voordeur_person_detected
      to: 'on'
    condition:
    - condition: time
      before: '05:00:00'
      after: '00:00:00'
    - condition: state
      entity_id: binary_sensor.front_door_camera_voordeur_motion_detected
      state: 'on'
    action:
    - service: script.turn_on
      entity_id:
      - script.buiten_bright

  - alias: "Motion and Person - Doorbel - Turn Off"
    trigger:
    - platform: state
      entity_id: binary_sensor.front_door_camera_voordeur_motion_detected
      to: 'off'
      for:
        minutes: 10
    - platform: state
      entity_id: binary_sensor.front_door_camera_voordeur_person_detected
      to: 'off'
      for:
        minutes: 10
    condition:
    - condition: time
      before: '5:00:00'
      after: '00:00:00'
    - condition: state
      entity_id: binary_sensor.front_door_camera_voordeur_motion_detected
      state: 'off'
    action:
    - service: script.turn_on
      entity_id:
      - script.buiten_off





  - alias: "Switch - Woonkamer - Daytime/Evening on"
    trigger:
    - platform: state
      entity_id: sensor.switch_woonkamer
      from: 'off'
      to: 'on'
      for:
        minutes: 5
    - platform: state
      entity_id: sensor.hal_motion
      to: 'True'
    - platform: state
      entity_id: sensor.woonkamer_motion
      to: 'True'
    condition:
    - condition: time
      before: '00:00:00'
      after: '5:00:00'
    - condition: state
      entity_id: sensor.switch_woonkamer
      state: 'on'
    - condition: state
      entity_id: sensor.switch_hal
      state: 'on'
    - condition: state
      entity_id: input_boolean.automation_mode
      state: 'off'
    action:
    - service: script.turn_on
      entity_id:
      - script.woonkamer
      - script.keuken
      - script.buiten
    - service: switch.turn_on
      entity_id:
      - switch.smartplug2

  - alias: "Switch - Woonkamer - Off - Lux"
    trigger:
    - platform: state
      entity_id: sensor.switch_woonkamer
      from: 'on'
      to: 'off'
      for:
        minutes: 5
    condition:
    - condition: state
      entity_id: input_boolean.automation_mode
      state: 'off'
    action:
    - service: script.turn_on
      entity_id:
      - script.all_off

  - alias: "Switch - Woonkamer - Off - Time"
    trigger:
    - platform: time
      minutes: '/10'
      seconds: 00
    condition:
    - condition: time
      after: '21:00:00'
      before: '05:00:00'
    - condition: state
      entity_id: media_player.livingroom_tv
      state: 'off'
    - condition: state
      entity_id: input_boolean.automation_mode
      state: 'off'
    action:
    - service: script.turn_on
      entity_id:
      - script.all_off